{% extends 'base.html.twig' %}

{% block title %}Test Design Final{% endblock %}

{% block body %}
{# 1. On définit les données ICI pour être sûr qu'elles s'affichent #}
{% set projets = [
    {'nom': 'Refonte Site Web', 'client': 'Acme Corp', 'statut': 'Actif'},
    {'nom': 'App Mobile', 'client': 'StartUp Inc', 'statut': 'En pause'},
    {'nom': 'Audit SEO', 'client': 'Google', 'statut': 'Terminé'}
] %}

<div class="p-10 bg-gray-50 min-h-screen">
    <h1 class="text-3xl font-bold mb-10 text-[#2C416E]">Test Design Final</h1>

    <section class="mb-12 bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-bold mb-6 border-b pb-2">1. Boutons</h2>
        
        <div class="flex flex-col gap-4">
            <div class="flex items-center gap-4">
                {{ include('composants/button.html.twig', { label: 'Confirmer', type: 'confirm' }) }}
            </div>

            <div class="flex items-center gap-4">

                {{ include('composants/button.html.twig', { label: 'Annuler', type: 'cancel' }) }}
            </div>

            <div class="flex items-center gap-4">
                {{ include('composants/button.html.twig', { label: 'Confirmer', type: 'warning' }) }}
            </div>

            <div class="flex items-center gap-4">
                {{ include('composants/button.html.twig', { label: 'Confirmer', type: 'danger' }) }}
            </div>
        </div>
    </section>

    <section class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-bold mb-6 border-b pb-2">2. Tableau</h2>
        
        {% embed 'composants/table.html.twig' with { 
            headers: ['Nom du projet', 'Client', 'Statut', 'Actions'] 
        } %}
            {% block body %}
                {# On boucle sur la variable définie en haut du fichier #}
                {% for projet in projets %}
                    <tr class="hover:bg-gray-50 transition-colors">
                        <td class="px-[25px] py-4 font-medium text-gray-900">{{ projet.nom }}</td>
                        <td class="px-[25px] py-4 text-gray-500">{{ projet.client }}</td>
                        <td class="px-[25px] py-4 text-gray-700">{{ projet.statut }}</td>
                        <td class="px-[25px] py-4">
                            {{ include('composants/button.html.twig', { label: 'Modifier', type: 'warning' }) }}
                        </td>
                    </tr>
                {% endfor %}
            {% endblock %}
        {% endembed %}
    </section>
</div>
{% endblock %}